import React, { useCallback, useState } from 'react';
import { useParams } from 'react-router-dom';
import { getApirUrl } from '../../../helpers/getApirUrl.js';

const mockedBikeData = {
  '@context': '/api/contexts/Bike',
  '@id': '/api/bikes',
  '@type': 'hydra:Collection',
  'hydra:totalItems': 150,
  'hydra:member': [
    {
      '@id': '/api/bikes/601',
      '@type': 'Bike',
      id: 601,
      brand: 'Guillaume Leblanc S.A.S.',
      label: 'ad',
      price: 42,
      shop: '/api/shops/31',
      bookings: ['/api/bookings/301'],
      propositions: ['/api/propositions/241'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/602',
      '@type': 'Bike',
      id: 602,
      brand: 'Toussaint Laroche S.A.S.',
      label: 'assumenda',
      price: 36,
      shop: '/api/shops/121',
      bookings: ['/api/bookings/302'],
      propositions: ['/api/propositions/242'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/603',
      '@type': 'Bike',
      id: 603,
      brand: 'Mahe',
      label: 'eius',
      price: 100,
      shop: '/api/shops/121',
      bookings: ['/api/bookings/303'],
      propositions: ['/api/propositions/243'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/604',
      '@type': 'Bike',
      id: 604,
      brand: 'Normand Teixeira S.A.',
      label: 'perferendis',
      price: 64,
      shop: '/api/shops/121',
      bookings: ['/api/bookings/304'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/605',
      '@type': 'Bike',
      id: 605,
      brand: 'Dumas Rodriguez S.A.',
      label: 'quidem',
      price: 41,
      shop: '/api/shops/121',
      bookings: ['/api/bookings/305'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/606',
      '@type': 'Bike',
      id: 606,
      brand: 'Francois',
      label: 'tempore',
      price: 17,
      shop: '/api/shops/122',
      bookings: ['/api/bookings/306'],
      propositions: ['/api/propositions/244'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/607',
      '@type': 'Bike',
      id: 607,
      brand: 'Pruvost',
      label: 'dolorem',
      price: 37,
      shop: '/api/shops/122',
      bookings: ['/api/bookings/307'],
      propositions: ['/api/propositions/245'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/608',
      '@type': 'Bike',
      id: 608,
      brand: 'Pelletier',
      label: 'dignissimos',
      price: 30,
      shop: '/api/shops/122',
      bookings: ['/api/bookings/308'],
      propositions: ['/api/propositions/246'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/609',
      '@type': 'Bike',
      id: 609,
      brand: 'Mallet SAS',
      label: 'molestias',
      price: 42,
      shop: '/api/shops/122',
      bookings: ['/api/bookings/309'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/610',
      '@type': 'Bike',
      id: 610,
      brand: 'Lemonnier Maury SARL',
      label: 'harum',
      price: 73,
      shop: '/api/shops/122',
      bookings: ['/api/bookings/310'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/611',
      '@type': 'Bike',
      id: 611,
      brand: 'Camus S.A.R.L.',
      label: 'et',
      price: 29,
      shop: '/api/shops/123',
      bookings: ['/api/bookings/311'],
      propositions: ['/api/propositions/247'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/612',
      '@type': 'Bike',
      id: 612,
      brand: 'Diaz',
      label: 'eum',
      price: 42,
      shop: '/api/shops/123',
      bookings: ['/api/bookings/312'],
      propositions: ['/api/propositions/248'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/613',
      '@type': 'Bike',
      id: 613,
      brand: 'Marchal Adam SARL',
      label: 'cumque',
      price: 64,
      shop: '/api/shops/123',
      bookings: ['/api/bookings/313'],
      propositions: ['/api/propositions/249'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/614',
      '@type': 'Bike',
      id: 614,
      brand: 'Berger',
      label: 'est',
      price: 72,
      shop: '/api/shops/123',
      bookings: ['/api/bookings/314'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/615',
      '@type': 'Bike',
      id: 615,
      brand: 'Gregoire',
      label: 'est',
      price: 88,
      shop: '/api/shops/123',
      bookings: ['/api/bookings/315'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/616',
      '@type': 'Bike',
      id: 616,
      brand: 'Jean',
      label: 'quaerat',
      price: 65,
      shop: '/api/shops/124',
      bookings: ['/api/bookings/316'],
      propositions: ['/api/propositions/250'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/617',
      '@type': 'Bike',
      id: 617,
      brand: 'Lecomte',
      label: 'officiis',
      price: 82,
      shop: '/api/shops/124',
      bookings: ['/api/bookings/317'],
      propositions: ['/api/propositions/251'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/618',
      '@type': 'Bike',
      id: 618,
      brand: 'Perrot SAS',
      label: 'inventore',
      price: 56,
      shop: '/api/shops/124',
      bookings: ['/api/bookings/318'],
      propositions: ['/api/propositions/252'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/619',
      '@type': 'Bike',
      id: 619,
      brand: 'Fernandez',
      label: 'ut',
      price: 83,
      shop: '/api/shops/124',
      bookings: ['/api/bookings/319'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/620',
      '@type': 'Bike',
      id: 620,
      brand: 'Breton Antoine SARL',
      label: 'dolor',
      price: 81,
      shop: '/api/shops/124',
      bookings: ['/api/bookings/320'],
      propositions: [],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:09+00:00',
    },
    {
      '@id': '/api/bikes/621',
      '@type': 'Bike',
      id: 621,
      brand: 'Rodrigues Deschamps S.A.S.',
      label: 'magni',
      price: 55,
      shop: '/api/shops/125',
      bookings: ['/api/bookings/321'],
      propositions: ['/api/propositions/253'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/622',
      '@type': 'Bike',
      id: 622,
      brand: 'Godard Carre SAS',
      label: 'sed',
      price: 50,
      shop: '/api/shops/125',
      bookings: ['/api/bookings/322'],
      propositions: ['/api/propositions/254'],
      createdAt: '2023-12-03T11:09:09+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/623',
      '@type': 'Bike',
      id: 623,
      brand: 'Boulay Jacques SA',
      label: 'est',
      price: 90,
      shop: '/api/shops/125',
      bookings: ['/api/bookings/323'],
      propositions: ['/api/propositions/255'],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/624',
      '@type': 'Bike',
      id: 624,
      brand: 'Dijoux S.A.S.',
      label: 'magnam',
      price: 49,
      shop: '/api/shops/125',
      bookings: ['/api/bookings/324'],
      propositions: [],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:10+00:00',
    },
    {
      '@id': '/api/bikes/625',
      '@type': 'Bike',
      id: 625,
      brand: 'Didier et Fils',
      label: 'nihil',
      price: 65,
      shop: '/api/shops/125',
      bookings: ['/api/bookings/325'],
      propositions: [],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:10+00:00',
    },
    {
      '@id': '/api/bikes/626',
      '@type': 'Bike',
      id: 626,
      brand: 'Adam',
      label: 'sit',
      price: 10,
      shop: '/api/shops/126',
      bookings: ['/api/bookings/326'],
      propositions: ['/api/propositions/256'],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/627',
      '@type': 'Bike',
      id: 627,
      brand: 'Cordier',
      label: 'iusto',
      price: 73,
      shop: '/api/shops/126',
      bookings: ['/api/bookings/327'],
      propositions: ['/api/propositions/257'],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/628',
      '@type': 'Bike',
      id: 628,
      brand: 'Breton',
      label: 'nostrum',
      price: 88,
      shop: '/api/shops/126',
      bookings: ['/api/bookings/328'],
      propositions: ['/api/propositions/258'],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:12+00:00',
    },
    {
      '@id': '/api/bikes/629',
      '@type': 'Bike',
      id: 629,
      brand: 'Boyer',
      label: 'cum',
      price: 26,
      shop: '/api/shops/126',
      bookings: ['/api/bookings/329'],
      propositions: [],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:10+00:00',
    },
    {
      '@id': '/api/bikes/630',
      '@type': 'Bike',
      id: 630,
      brand: 'Laine SA',
      label: 'eius',
      price: 94,
      shop: '/api/shops/126',
      bookings: ['/api/bookings/330'],
      propositions: [],
      createdAt: '2023-12-03T11:09:10+00:00',
      updatedAt: '2023-12-03T11:09:10+00:00',
    },
  ],
  'hydra:view': {
    '@id': '/api/bikes?page=1',
    '@type': 'hydra:PartialCollectionView',
    'hydra:first': '/api/bikes?page=1',
    'hydra:last': '/api/bikes?page=5',
    'hydra:next': '/api/bikes?page=2',
  },
};
const useBikes = () => {
  const { shopId } = useParams();
  const apiUrl = getApirUrl();

  const [bikes, setBikes] = useState([]);

  const getBikesByShop = useCallback(() => {
    setBikes(mockedBikeData['hydra:member']);
    return mockedBikeData['hydra:member'];

    return fetch(`${apiUrl}/shops/${shopId}/bikes`)
      .then((response) => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then((data) => {
        if (data) {
          return data['hydra:member'];
        } else {
          throw new Error('Data is not in the expected format');
        }
      });
  }, [shopId]);

  return {
    bikes,
    getBikesByShop,
  };
};

export { useBikes };
